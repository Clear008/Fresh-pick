{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="bg-gradient-to-b from-green-50 to-green-100">
        <section class="py-10 sm:py-16 lg:py-24">
            <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
                <div class="grid items-center grid-cols-1 gap-12 lg:grid-cols-2">
                    <div>
                        <h1 class="text-4xl font-bold text-black sm:text-6xl lg:text-7xl">
                            Feeding the world, with <br />
                            <div class="relative inline-flex">
                                <span class="absolute inset-x-0 bottom-0 border-b-[30px] border-green-700/[.5]"></span>
                                <h1 class="relative text-4xl font-bold text-black sm:text-6xl lg:text-7xl">Fresh Food</h1>
                            </div>
                        </h1>
    
                        <p class="mt-8 text-base text-black sm:text-xl">FreshPick is a family run company that has been delivering fresh groceries to your doorstep for over 20 years. We are proud to offer a wide range of products that are sourced from local farmers and producers.</p>
    
                        <div class="mt-10 sm:flex sm:items-center sm:space-x-8">
                            <a href="/products" title="" class="inline-flex items-center justify-center px-10 py-4 text-base font-semibold text-white transition-all duration-200 bg-green-700 rounded-lg hover:bg-green-700/[.8] focus:bg-green-600" role="button"> Start exploring </a>
    
                            <a href="" title="" class="inline-flex items-center mt-6 text-base font-semibold transition-all duration-200 sm:mt-0 hover:opacity-80">
                                <svg class="w-10 h-10 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#3A8002">
                                    <path fill="#3A8002" stroke="#3A8002" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                Watch video
                            </a>
                        </div>
                    </div>
    
                    <div>
                        <img class="w-full rounded-lg" src="{% static 'imgs/hero.svg' %}" alt="" />
                    </div>
                </div>
            </div>
        </section>
    </div>
    <div class="container mx-auto py-8">
        <div class="flex items-center lg:gap-4 mt-8 !flex-wrap justify-center">
            <div class="flex items-center lg:gap-4 mt-8 !flex-wrap justify-center">
                {% for product in products|slice:":10" %}
                {% if product.quantity_available > 0 %}
                <div class="card w-1/2 md:w-1/3 lg:w-1/6 p-1 rounded-lg shadow-lg px-4 py-6 hover:shadow-2xl transition-all duration-300">
                    <div class="card-img mx-auto text-center relative">
                        <img src="{{ product.image }}" alt="img"  class="text-center mx-auto">
                        <span class="absolute top-0 right-[20px] badge px-4 py-2 rounded-full bg-red-600 text-white font-semibold">${{ product.price }}</span>
                    </div>
                    
                    <div class="card-desc inline-flex items-center justify-between w-full px-4 mt-4">
                        <div class="product">
                            <h1 class="text-xl font-semibold text-[#333333]">{{ product.name }}</h1>
                            <div class="inline-flex items-center mt-[3px]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="#b9c3cc" stroke="#b9c3cc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="#b9c3cc" stroke="#b9c3cc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="#b9c3cc" stroke="#b9c3cc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="#b9c3cc" stroke="#b9c3cc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24" fill="#b9c3cc" stroke="#b9c3cc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                            </div>
                        </div>
                        
                        <button class="text-[#3A8002] border border-[#3A8002] rounded-full p-2 bg-gray-100 hover:bg-green-700 hover:text-white transition-all duration-300" onclick="openModal('{{ product.id }}', '{{ product.name }}', '{{ product.price }}', '{{ product.description }}', '{{ product.image }}')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-basket"><path d="m15 11-1 9"/><path d="m19 11-4-7"/><path d="M2 11h20"/><path d="m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4"/><path d="M4.5 15.5h15"/><path d="m5 11 4-7"/><path d="M12 2v5"/></svg>
                        </button>
                    </div>
                    <!-- <div class="product-price px-4">
                        <h1 class="text-red-600 font-semibold text-lg">${{ product.price }}</h1>
                    </div> -->
                </div>
                {% endif %}
                {% endfor %}
            </div>
            <div class="fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-50 hidden" id="productModal">
                <div class="bg-white rounded-lg p-6 max-w-lg w-full relative">
                    <button class="absolute top-2 right-2 text-gray-600 hover:text-gray-900" onclick="closeModal()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                    <img id="productImage" src="" alt="Product Image" class="w-full h-48 object-contain rounded-t-lg">
                    <h2 class="text-2xl font-bold mt-4 text-[#333333]" id="productName"></h2>
                    <p class="text-gray-600 mt-2 text-[#333333]" id="productDescription"></p>
                    <p class="text-xl font-semibold text-green-700 mt-4" id="productPrice"></p>
                    
                    <form id="addToCartForm" method="post" action="{% url 'add_to_cart' %}" class="mt-6">
                        {% csrf_token %}
                        <input type="hidden" name="product_id" id="productId">
                        <div class="inline-flex items-center gap-2">
                            <label for="quantity" class="block text-lg text-gray-700 font-semibold">Quantity:</label>
                            <input type="number" name="quantity" id="quantity" min="1" max="5" value="1" class="mt-1 text-lg font-semibold block border border-[#333333] p-2 w-16 h-10 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50"> 
                            <h1 class="italic text-red-600 ">The Maximum is 5KGs</h1>
                            {% if messages %}
                                <div>
                                    {% if error_message %}
                                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                                            <span class="block sm:inline">{{ error_message }}</span>
                                        </div>
                                    {% endif %}
                                </div>
                            {% endif %}
                        </div>
                        <button type="submit" class="w-full bg-green-700 text-white font-semibold py-2 px-4 rounded mt-4 hover:bg-green-700 transition-all duration-300">Add to Cart</button>
                    </form>
                </div>
            </div>
            
            <script>
                function openModal(id, name, price, description, image) {
                    document.getElementById('productId').value = id;
                    document.getElementById('productName').innerText = name;
                    document.getElementById('productPrice').innerText = '$' + price;
                    document.getElementById('productDescription').innerText = description;
                    document.getElementById('productImage').src = image;
                    document.getElementById('productModal').classList.remove('hidden');
                }
                
                function closeModal() {
                    document.getElementById('productModal').classList.add('hidden');
                }
            </script>
            <script>
                // Function to generate random color between two hex colors
                // Function to generate random color between two hex colors
                function randomColor() {
                    var goldenColor = "#FFD700";
                    var b9c3cc = "#b9c3cc";
                    var colors = [goldenColor, b9c3cc];
                    return colors[Math.floor(Math.random() * colors.length)];
                }
        
                // Select last three SVG elements
                var svgs = document.querySelectorAll('svg.lucide-star:nth-last-child(-n+3)');
        
                // Loop through each SVG and set random fill color
                svgs.forEach(function(svg) {
                    svg.style.fill = randomColor();
                    svg.style.stroke = svg.style.fill;
                });
        
                // Set first two SVG elements to gold color
                var firstTwoSvgs = document.querySelectorAll('svg.lucide-star:nth-child(-n+3)');
                firstTwoSvgs.forEach(function(svg) {
                    svg.style.fill = "#FFD700";
                    svg.style.stroke = svg.style.fill;
                });
        
                // Set the remaining SVG elements to gray color
                var remainingSvgs = document.querySelectorAll('svg.lucide-star:nth-child(n+5)');
                remainingSvgs.forEach(function(svg) {
                    svg.style.fill = "#b9c3cc";
                    svg.style.stroke = svg.style.fill;
                });
                
            </script>
        </div>
    </div>
    <div class="bg-gradient-to-b from-green-50 to-green-100">
        <section class="py-10 bg-green-700/[.1] sm:py-16 lg:py-24 mt-5">
            <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
                <div class="max-w-2xl mx-auto text-center">
                    <h2 class="text-3xl font-bold leading-tight text-gray-800 sm:text-4xl lg:text-5xl">Trusted by <span class="text-green-700">30k+</span> world class companies & design teams</h2>
                </div>
        
                <div class="grid max-w-xl grid-cols-1 mx-auto mt-8 text-center lg:max-w-full sm:mt-12 lg:mt-20 lg:grid-cols-3 gap-x-6 xl:gap-x-12 gap-y-6">
                    <div class="overflow-hidden bg-white rounded-md shadow">
                        <div class="px-8 py-12">
                            <div class="relative w-24 h-24 mx-auto">
                                <img class="relative object-cover w-24 h-24 mx-auto rounded-full" src="https://cdn.rareblocks.xyz/collection/celebration/images/testimonials/1/avatar-1.jpg" alt="" />
                                <div class="absolute top-0 right-0 flex items-center justify-center bg-green-700 rounded-full w-7 h-7">
                                    <svg class="w-4 h-4 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path
                                            d="M20.309 17.708C22.196 15.66 22.006 13.03 22 13V5a1 1 0 0 0-1-1h-6c-1.103 0-2 .897-2 2v7a1 1 0 0 0 1 1h3.078a2.89 2.89 0 0 1-.429 1.396c-.508.801-1.465 1.348-2.846 1.624l-.803.16V20h1c2.783 0 4.906-.771 6.309-2.292zm-11.007 0C11.19 15.66 10.999 13.03 10.993 13V5a1 1 0 0 0-1-1h-6c-1.103 0-2 .897-2 2v7a1 1 0 0 0 1 1h3.078a2.89 2.89 0 0 1-.429 1.396c-.508.801-1.465 1.348-2.846 1.624l-.803.16V20h1c2.783 0 4.906-.771 6.309-2.292z"
                                        ></path>
                                    </svg>
                                </div>
                            </div>
                            <blockquote class="mt-7">
                                <p class="text-lg text-black">
                                “Ever since I started shopping at FreshPick, my grocery bills have gone down significantly! They always have great deals and sales on the items I need most.”
                                </p>
                            </blockquote>
                            <p class="text-base font-semibold tex-tblack mt-9">Jenny Wilson</p>
                            <p class="mt-1 text-base text-gray-600">University Professor at Harvard</p>
                        </div>
                    </div>
        
                    <div class="overflow-hidden bg-white rounded-md shadow">
                        <div class="px-8 py-12">
                            <div class="relative w-24 h-24 mx-auto">
                                <img class="relative object-cover w-24 h-24 mx-auto rounded-full" src="https://cdn.rareblocks.xyz/collection/celebration/images/testimonials/1/avatar-2.jpg" alt="" />
                                <div class="absolute top-0 right-0 flex items-center justify-center bg-green-700 rounded-full w-7 h-7">
                                    <svg class="w-4 h-4 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path
                                            d="M20.309 17.708C22.196 15.66 22.006 13.03 22 13V5a1 1 0 0 0-1-1h-6c-1.103 0-2 .897-2 2v7a1 1 0 0 0 1 1h3.078a2.89 2.89 0 0 1-.429 1.396c-.508.801-1.465 1.348-2.846 1.624l-.803.16V20h1c2.783 0 4.906-.771 6.309-2.292zm-11.007 0C11.19 15.66 10.999 13.03 10.993 13V5a1 1 0 0 0-1-1h-6c-1.103 0-2 .897-2 2v7a1 1 0 0 0 1 1h3.078a2.89 2.89 0 0 1-.429 1.396c-.508.801-1.465 1.348-2.846 1.624l-.803.16V20h1c2.783 0 4.906-.771 6.309-2.292z"
                                        ></path>
                                    </svg>
                                </div>
                            </div>
                            <blockquote class="mt-7">
                                <p class="text-lg text-black">
                                “I used to hate grocery shopping until I discovered FreshPick. Their online ordering system is incredibly user-friendly, and I can have my groceries delivered straight to my door by myself.”
                                </p>
                            </blockquote>
                            <p class="text-base font-semibold tex-tblack mt-9">Robert Fox</p>
                            <p class="mt-1 text-base text-gray-600">Software Engineer at Brain.co</p>
                        </div>
                    </div>
        
                    <div class="overflow-hidden bg-white rounded-md shadow">
                        <div class="px-8 py-12">
                            <div class="relative w-24 h-24 mx-auto">
                                <img class="relative object-cover w-24 h-24 mx-auto rounded-full" src="https://cdn.rareblocks.xyz/collection/celebration/images/testimonials/1/avatar-3.jpg" alt="" />
                                <div class="absolute top-0 right-0 flex items-center justify-center bg-green-700 rounded-full w-7 h-7">
                                    <svg class="w-4 h-4 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path
                                            d="M20.309 17.708C22.196 15.66 22.006 13.03 22 13V5a1 1 0 0 0-1-1h-6c-1.103 0-2 .897-2 2v7a1 1 0 0 0 1 1h3.078a2.89 2.89 0 0 1-.429 1.396c-.508.801-1.465 1.348-2.846 1.624l-.803.16V20h1c2.783 0 4.906-.771 6.309-2.292zm-11.007 0C11.19 15.66 10.999 13.03 10.993 13V5a1 1 0 0 0-1-1h-6c-1.103 0-2 .897-2 2v7a1 1 0 0 0 1 1h3.078a2.89 2.89 0 0 1-.429 1.396c-.508.801-1.465 1.348-2.846 1.624l-.803.16V20h1c2.783 0 4.906-.771 6.309-2.292z"
                                        ></path>
                                    </svg>
                                </div>
                            </div>
                            <blockquote class="mt-7">
                                <p class="text-lg text-black">
                                “As a stay-at-home mom with three young children, it can be challenging to get to the grocery store. But FreshPick makes it easy! Their store is clean and well-organized, and the staff is always helpful.”
                                </p>
                            </blockquote>
                            <p class="text-base font-semibold tex-tblack mt-9">Kristin Watson</p>
                            <p class="mt-1 text-base text-gray-600">Stay-at-Home Mom</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
{% endblock %}