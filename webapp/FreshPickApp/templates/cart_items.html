{% extends 'base.html' %}
{% load static %}

{% block title %}Cart{% endblock %}

{% block content %}
<div class="flex justify-center items-center h-full py-12">
    <div class="max-w-6xl w-full bg-white shadow-lg rounded-lg flex">
        <!-- Left Side - Cart Items -->
        <div class="w-1/2 bg-gray-200 relative flex flex-col items-center justify-center rounded-lg">
            <img src="https://images.unsplash.com/photo-1516594798947-e65505dbb29d?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" 
                alt="Cart Items" class="w-full h-full object-cover opacity-75 blur-[2px] rounded-lg">
            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                <h2 class="text-6xl font-bold mb-8 text-[#333333] drop-shadow-lg">Explore Your Cart Items</h2>
            </div>
        </div>
        <!-- Right Side - Cart Items List -->
        <div class="w-1/2 p-8">
            <h2 class="text-3xl font-bold mb-4 text-[#333333]">Cart Items</h2>
            <p class="text-gray-600 mb-8">Your cart items are listed below.</p>
            {% for cart_item in cart_items %}
            <div class="flex items-center justify-between border-b border-gray-200 py-4">
                <div class="flex items-center gap-4">
                    <img src="{{ cart_item.product.image }}" alt="Product Image" class="w-16 h-16 object-cover rounded-lg">
                    <div>
                        <h1 class="text-xl font-semibold">
                            {{ cart_item.product.name }} 
                            <span class="text-gray-600 text-base italic">x{{ cart_item.quantity }} Kg</span>
                        </h1>
                        <p class="text-gray-600">${{ cart_item.product.price }}</p>
                    </div>
                </div>
                <div>
                    <form action="{% url 'remove_from_cart' cart_item.id %}" method="POST">
                        {% csrf_token %}
                        <button type="submit" class="text-red-600 font-semibold px-4 py2 rounded-lg border border-red-600 hover:bg-red-600 hover:text-white transition-all duration-200">
                            Remove
                        </button>
                    </form>
                </div>
            </div>
            {% endfor %}
            
            <div class="mt-8">
                <h2 class="text-2xl font-bold mb-4 text-[#333333]">Total Price: ${{ total_price }}</h2>
            </div>
        </div>
    </div>
</div>
{% endblock %}